  window.Modernizr=function(t,e,i){function n(t){m.cssText=t}function s(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var s=t[n];if(!o(s,"-")&&m[s]!==i)return"pfx"!=e||s}return!1}function a(t,e,n){for(var o in t){var r=e[t[o]];if(r!==i)return!1===n?t[o]:s(r,"function")?r.bind(n||e):r}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+g.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?r(o,e):(o=(t+" "+v.join(n+" ")+n).split(" "),a(o,e,i))}var u,h,p={},d=e.documentElement,c="modernizr",f=e.createElement(c),m=f.style,y=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",g=_.split(" "),v=_.toLowerCase().split(" "),C={},b=[],T=b.slice,w=function(t,i,n,s){var o,r,a,l,u=e.createElement("div"),h=e.body,p=h||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=s?s[n]:c+(n+1),u.appendChild(a);return o=["&#173;",'<style id="s',c,'">',t,"</style>"].join(""),u.id=c,(h?u:p).innerHTML+=o,p.appendChild(u),h||(p.style.background="",p.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(p)),r=i(u,t),h?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),d.style.overflow=l),!!r},E={}.hasOwnProperty;h=s(E,"undefined")||s(E.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=T.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var o=new s,r=e.apply(o,i.concat(T.call(arguments)));return Object(r)===r?r:o}return e.apply(t,i.concat(T.call(arguments)))};return n}),C.csstransforms=function(){return!!l("transform")},C.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in d.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},C.csstransitions=function(){return l("transition")};for(var S in C)h(C,S)&&(u=S.toLowerCase(),p[u]=C[S](),b.push((p[u]?"":"no-")+u));return p.addTest=function(t,e){if("object"==typeof t)for(var n in t)h(t,n)&&p.addTest(n,t[n]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,d.className+=" "+(e?"":"no-")+t,p[t]=e}return p},n(""),f=null,p._version="2.6.2",p._prefixes=y,p._domPrefixes=v,p._cssomPrefixes=g,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=w,p.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+b.join(" "),p}(0,this.document),function(t,e){var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,s,o){function r(){function n(){l=+new Date,s.apply(u,p)}function r(){a=e}var u=this,h=+new Date-l,p=arguments;o&&!a&&n(),a&&clearTimeout(a),o===e&&h>t?n():!0!==i&&(a=setTimeout(o?r:n,o===e?t-h:t))}var a,l=0;return"boolean"!=typeof i&&(o=s,s=i,i=e),n.guid&&(r.guid=s.guid=s.guid||n.guid++),r},n.debounce=function(t,n,s){return s===e?i(t,n,!1):i(t,s,!1!==n)}}(this),function(t){"function"==typeof define&&define.amd?define(["jquery","modernizr"],t):"object"==typeof exports?module.exports=t(require("jquery"),window.Modernizr):window.Shuffle=t(window.jQuery,window.Modernizr)}(function(t,e,i){"use strict";function n(e,i,n){var s,o,r,a=null,l=0;n=n||{};var u=function(){l=!1===n.leading?0:t.now(),a=null,r=e.apply(s,o),s=o=null};return function(){var h=t.now();l||!1!==n.leading||(l=h);var p=i-(h-l);return s=this,o=arguments,0>=p||p>i?(clearTimeout(a),a=null,l=h,r=e.apply(s,o),s=o=null):a||!1===n.trailing||(a=setTimeout(u,p)),r}}function s(t,e,i){for(var n=0,s=t.length;s>n;n++)if(e.call(i,t[n],n,t)==={})return}function o(e,i,n){return setTimeout(t.proxy(e,i),n)}function r(t){return Math.max.apply(Math,t)}function a(t){return Math.min.apply(Math,t)}function l(e){return t.isNumeric(e)?e:0}function u(t){var e,i,n=t.length;if(!n)return t;for(;--n;)i=Math.floor(Math.random()*(n+1)),e=t[i],t[i]=t[n],t[n]=e;return t}if("object"!=typeof e)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var h=e.prefixed("transition"),p=e.prefixed("transitionDelay"),d=e.prefixed("transitionDuration"),c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[h],f=e.prefixed("transform"),m=function(t){return t?t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):""}(f),y=e.csstransforms&&e.csstransitions,_=e.csstransforms3d,g=!!window.getComputedStyle,v="shuffle",C="all",b=.001,T=window.getComputedStyle||function(){},w=function(t,e){this.x=l(t),this.y=l(e)};w.equals=function(t,e){return t.x===e.x&&t.y===e.y};var E=function(){if(!g)return!1;var t=document.body||document.documentElement,e=document.createElement("div");e.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",t.appendChild(e);var i=T(e,null).width,n="10px"===i;return t.removeChild(e),n}(),S=0,F=t(window),I=function(e,i){i=i||{},t.extend(this,I.options,i,I.settings),this.$el=t(e),this.element=e,this.unique="shuffle_"+S++,this._fire(I.EventType.LOADING),this._init(),o(function(){this.initialized=!0,this._fire(I.EventType.DONE)},this,16)};return I.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},I.ClassName={BASE:v,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},I.options={group:C,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:g?.01:.1,initialSort:null,throttle:n,throttleTime:300,sequentialFadeDelay:150,supported:y},I.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:C,enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},I.Point=w,I._getItemTransformString=function(t,e){return _?"translate3d("+t.x+"px, "+t.y+"px, 0) scale3d("+e+", "+e+", 1)":"translate("+t.x+"px, "+t.y+"px) scale("+e+")"},I._getNumberStyle=function(e,i,n){if(g){n=n||T(e,null);var s=I._getFloat(n[i]);return E||"width"!==i?E||"height"!==i||(s+=I._getFloat(n.paddingTop)+I._getFloat(n.paddingBottom)+I._getFloat(n.borderTopWidth)+I._getFloat(n.borderBottomWidth)):s+=I._getFloat(n.paddingLeft)+I._getFloat(n.paddingRight)+I._getFloat(n.borderLeftWidth)+I._getFloat(n.borderRightWidth),s}return I._getFloat(t(e).css(i))},I._getFloat=function(t){return l(parseFloat(t))},I._getOuterWidth=function(t,e){var i=T(t,null),n=I._getNumberStyle(t,"width",i);if(e){n+=I._getNumberStyle(t,"marginLeft",i)+I._getNumberStyle(t,"marginRight",i)}return n},I._getOuterHeight=function(t,e){var i=T(t,null),n=I._getNumberStyle(t,"height",i);if(e){n+=I._getNumberStyle(t,"marginTop",i)+I._getNumberStyle(t,"marginBottom",i)}return n},I._skipTransition=function(t,e,i){var n=t.style[d];t.style[d]="0ms",e.call(i);t.offsetWidth;t.style[d]=n},I.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(I.ClassName.BASE),this._initItems(),F.on("resize."+v+"."+this.unique,this._getResizeFunction());var t=this.$el.css(["position","overflow"]),e=I._getOuterWidth(this.element);this._validateStyles(t),this._setColumns(e),this.shuffle(this.group,this.initialSort),this.supported&&o(function(){this._setTransitions(),this.element.style[h]="height "+this.speed+"ms "+this.easing},this)},I.prototype._getResizeFunction=function(){var e=t.proxy(this._onResize,this);return this.throttle?this.throttle(e,this.throttleTime):e},I.prototype._getElementOption=function(t){return"string"==typeof t?this.$el.find(t)[0]||null:t&&t.nodeType&&1===t.nodeType?t:t&&t.jquery?t[0]:null},I.prototype._validateStyles=function(t){"static"===t.position&&(this.element.style.position="relative"),"hidden"!==t.overflow&&(this.element.style.overflow="hidden")},I.prototype._filter=function(t,e){t=t||this.lastFilter,e=e||this.$items;var i=this._getFilteredSets(t,e);return this._toggleFilterClasses(i.filtered,i.concealed),this.lastFilter=t,"string"==typeof t&&(this.group=t),i.filtered},I.prototype._getFilteredSets=function(e,i){var n=t(),o=t();return e===C?n=i:s(i,function(i){var s=t(i);this._doesPassFilter(e,s)?n=n.add(s):o=o.add(s)},this),{filtered:n,concealed:o}},I.prototype._doesPassFilter=function(e,i){if(t.isFunction(e))return e.call(i[0],i,this);var n=i.data("groups"),s=this.delimeter&&!t.isArray(n)?n.split(this.delimeter):n;return t.inArray(e,s)>-1},I.prototype._toggleFilterClasses=function(t,e){t.removeClass(I.ClassName.CONCEALED).addClass(I.ClassName.FILTERED),e.removeClass(I.ClassName.FILTERED).addClass(I.ClassName.CONCEALED)},I.prototype._initItems=function(t){t=t||this.$items,t.addClass([I.ClassName.SHUFFLE_ITEM,I.ClassName.FILTERED].join(" ")),t.css(this.itemCss).data("point",new w).data("scale",1)},I.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},I.prototype._setTransition=function(t){t.style[h]=m+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},I.prototype._setTransitions=function(t){t=t||this.$items,s(t,function(t){this._setTransition(t)},this)},I.prototype._setSequentialDelay=function(t){this.supported&&s(t,function(t,e){t.style[p]="0ms,"+(e+1)*this.sequentialFadeDelay+"ms"},this)},I.prototype._getItems=function(){return this.$el.children(this.itemSelector)},I.prototype._getFilteredItems=function(){return this.$items.filter("."+I.ClassName.FILTERED)},I.prototype._getConcealedItems=function(){return this.$items.filter("."+I.ClassName.CONCEALED)},I.prototype._getColumnSize=function(e,i){var n;return n=t.isFunction(this.columnWidth)?this.columnWidth(e):this.useSizer?I._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?I._getOuterWidth(this.$items[0],!0):e,0===n&&(n=e),n+i},I.prototype._getGutterSize=function(e){return t.isFunction(this.gutterWidth)?this.gutterWidth(e):this.useSizer?I._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},I.prototype._setColumns=function(t){var e=t||I._getOuterWidth(this.element),i=this._getGutterSize(e),n=this._getColumnSize(e,i),s=(e+i)/n;Math.abs(Math.round(s)-s)<this.columnThreshold&&(s=Math.round(s)),this.cols=Math.max(Math.floor(s),1),this.containerWidth=e,this.colWidth=n},I.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},I.prototype._getContainerSize=function(){return r(this.positions)},I.prototype._fire=function(t,e){this.$el.trigger(t+"."+v,e&&e.length?e:[this])},I.prototype._resetCols=function(){var t=this.cols;for(this.positions=[];t--;)this.positions.push(0)},I.prototype._layout=function(t,e){s(t,function(t){this._layoutItem(t,!!e)},this),this._processStyleQueue(),this._setContainerSize()},I.prototype._layoutItem=function(e,i){var n=t(e),s=n.data(),o=s.point,r=s.scale,a={width:I._getOuterWidth(e,!0),height:I._getOuterHeight(e,!0)},l=this._getItemPosition(a);w.equals(o,l)&&1===r||(s.point=l,s.scale=1,this.styleQueue.push({$item:n,point:l,scale:1,opacity:i?0:1,skipTransition:i||0===this.speed,callfront:function(){i||n.css("visibility","visible")},callback:function(){i&&n.css("visibility","hidden")}}))},I.prototype._getItemPosition=function(t){for(var e=this._getColumnSpan(t.width,this.colWidth,this.cols),i=this._getColumnSet(e,this.cols),n=this._getShortColumn(i,this.buffer),s=new w(Math.round(this.colWidth*n),Math.round(i[n])),o=i[n]+t.height,r=this.cols+1-i.length,a=0;r>a;a++)this.positions[n+a]=o;return s},I.prototype._getColumnSpan=function(t,e,i){var n=t/e;return Math.abs(Math.round(n)-n)<this.columnThreshold&&(n=Math.round(n)),Math.min(Math.ceil(n),i)},I.prototype._getColumnSet=function(t,e){if(1===t)return this.positions;for(var i=e+1-t,n=[],s=0;i>s;s++)n[s]=r(this.positions.slice(s,s+t));return n},I.prototype._getShortColumn=function(t,e){for(var i=a(t),n=0,s=t.length;s>n;n++)if(t[n]>=i-e&&t[n]<=i+e)return n;return 0},I.prototype._shrink=function(e){s(e||this._getConcealedItems(),function(e){var i=t(e),n=i.data();n.scale!==b&&(n.scale=b,this.styleQueue.push({$item:i,point:n.point,scale:b,opacity:0,callback:function(){i.css("visibility","hidden")}}))},this)},I.prototype._onResize=function(){if(this.enabled&&!this.destroyed){I._getOuterWidth(this.element)!==this.containerWidth&&this.update()}},I.prototype._getStylesForTransition=function(t){var e={opacity:t.opacity};return this.supported?e[f]=I._getItemTransformString(t.point,t.scale):(e.left=t.point.x,e.top=t.point.y),e},I.prototype._transition=function(e){var i=this._getStylesForTransition(e);this._startItemAnimation(e.$item,i,e.callfront||t.noop,e.callback||t.noop)},I.prototype._startItemAnimation=function(e,i,n,s){function o(e){e.target===e.currentTarget&&(t(e.target).off(c,o),r._removeTransitionReference(a),s())}var r=this,a={$element:e,handler:o};if(n(),!this.initialized)return e.css(i),void s();if(this.supported)e.css(i),e.on(c,o),this._transitions.push(a);else{var l=e.stop(!0).animate(i,this.speed,"swing",s);this._animations.push(l.promise())}},I.prototype._processStyleQueue=function(e){this.isTransitioning&&this._cancelMovement();var i=t();s(this.styleQueue,function(t){t.skipTransition?this._styleImmediately(t):(i=i.add(t.$item),this._transition(t))},this),i.length>0&&this.initialized&&this.speed>0?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(i,c,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):e||o(this._layoutEnd,this),this.styleQueue.length=0},I.prototype._cancelMovement=function(){this.supported?s(this._transitions,function(t){t.$element.off(c,t.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},I.prototype._removeTransitionReference=function(e){var i=t.inArray(e,this._transitions);i>-1&&this._transitions.splice(i,1)},I.prototype._styleImmediately=function(t){I._skipTransition(t.$item[0],function(){t.$item.css(this._getStylesForTransition(t))},this)},I.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},I.prototype._layoutEnd=function(){this._fire(I.EventType.LAYOUT)},I.prototype._addItems=function(t,e,i){this._initItems(t),this._setTransitions(t),this.$items=this._getItems(),this._shrink(t),s(this.styleQueue,function(t){t.skipTransition=!0}),this._processStyleQueue(!0),e?this._addItemsToEnd(t,i):this.shuffle(this.lastFilter)},I.prototype._addItemsToEnd=function(t,e){var i=this._filter(null,t),n=i.get();this._updateItemCount(),this._layout(n,!0),e&&this.supported&&this._setSequentialDelay(n),this._revealAppended(n)},I.prototype._revealAppended=function(e){o(function(){s(e,function(e){var i=t(e);this._transition({$item:i,opacity:1,point:i.data("point"),scale:1})},this),this._whenCollectionDone(t(e),c,function(){t(e).css(p,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},I.prototype._whenCollectionDone=function(e,i,n){function s(e){e.target===e.currentTarget&&(t(e.target).off(i,s),++o===r&&(a._removeTransitionReference(l),n.call(a)))}var o=0,r=e.length,a=this,l={$element:e,handler:s};e.on(i,s),this._transitions.push(l)},I.prototype._whenAnimationsDone=function(e){t.when.apply(null,this._animations).always(t.proxy(function(){this._animations.length=0,this._isMovementCanceled||e.call(this)},this))},I.prototype.shuffle=function(t,e){this.enabled&&(t||(t=C),this._filter(t),this._updateItemCount(),this._shrink(),this.sort(e))},I.prototype.sort=function(t){if(this.enabled){this._resetCols();var e=t||this.lastSort,i=this._getFilteredItems().sorted(e);this._layout(i),this.lastSort=e}},I.prototype.update=function(t){this.enabled&&(t||this._setColumns(),this.sort())},I.prototype.layout=function(){this.update(!0)},I.prototype.appended=function(t,e,i){this._addItems(t,!0===e,!1!==i)},I.prototype.disable=function(){this.enabled=!1},I.prototype.enable=function(t){this.enabled=!0,!1!==t&&this.update()},I.prototype.remove=function(e){function i(){e.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(I.EventType.REMOVED,[e,this]),e=null}e.length&&e.jquery&&(this._toggleFilterClasses(t(),e),this._shrink(e),this.sort(),this.$el.one(I.EventType.LAYOUT+"."+v,t.proxy(i,this)))},I.prototype.destroy=function(){F.off("."+this.unique),this.$el.removeClass(v).removeAttr("style").removeData(v),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([I.ClassName.CONCEALED,I.ClassName.FILTERED,I.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},t.fn.shuffle=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data(v);s?"string"==typeof e&&s[e]&&s[e].apply(s,i):(s=new I(this,e),n.data(v,s))})},t.fn.sorted=function(e){var n=t.extend({},t.fn.sorted.defaults,e),s=this.get(),o=!1;return s.length?n.randomize?u(s):(t.isFunction(n.by)&&s.sort(function(e,s){if(o)return 0;var r=n.by(t(e)),a=n.by(t(s));return r===i&&a===i?(o=!0,0):a>r||"sortFirst"===r||"sortLast"===a?-1:r>a||"sortLast"===r||"sortFirst"===a?1:0}),o?this.get():(n.reverse&&s.reverse(),s)):[]},t.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},I});
